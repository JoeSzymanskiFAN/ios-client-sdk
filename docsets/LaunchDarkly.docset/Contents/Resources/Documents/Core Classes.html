<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Core Classes  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Section/Core Classes" class="dashAnchor"></a>
    <a title="Core Classes  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">LaunchDarkly 5.4.5 Docs</a> (84% documented)</p>
        <p class="header-right"><a href="https://github.com/launchdarkly/ios-client-sdk"><img src="img/gh.png" alt="GitHub"/>View on GitHub</a></p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">LaunchDarkly Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        Core Classes  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Core%20Classes.html">Core Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/LDClient.html">LDClient</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LDConfig.html">LDConfig</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LDConfig/Constants.html">– Constants</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LDConfig/Minima.html">– Minima</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LDUser.html">LDUser</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LDUser/CodingKeys.html">– CodingKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LDEvaluationDetail.html">LDEvaluationDetail</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Flag%20Change%20Observers.html">Flag Change Observers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Flag%20Change%20Observers.html#/s:12LaunchDarkly15LDObserverOwnera">LDObserverOwner</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LDChangedFlag.html">LDChangedFlag</a>
              </li>
              <li class="nav-group-task">
                <a href="Flag%20Change%20Observers.html#/s:12LaunchDarkly19LDFlagChangeHandlera">LDFlagChangeHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Flag%20Change%20Observers.html#/s:12LaunchDarkly29LDFlagCollectionChangeHandlera">LDFlagCollectionChangeHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Flag%20Change%20Observers.html#/s:12LaunchDarkly23LDFlagsUnchangedHandlera">LDFlagsUnchangedHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Connection%20Information.html">Connection Information</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/ConnectionInformation.html">ConnectionInformation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ConnectionInformation/ConnectionMode.html">– ConnectionMode</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ConnectionInformation/LastConnectionFailureReason.html">– LastConnectionFailureReason</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ConnectionInformation.html#/s:12LaunchDarkly21ConnectionInformationV9ConstantsV">– Constants</a>
              </li>
              <li class="nav-group-task">
                <a href="Connection%20Information.html#/s:12LaunchDarkly30LDConnectionModeChangedHandlera">LDConnectionModeChangedHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Types.html">Other Types</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/LDStreamingMode.html">LDStreamingMode</a>
              </li>
              <li class="nav-group-task">
                <a href="Other%20Types.html#/s:12LaunchDarkly22LDFlagValueConvertibleP">LDFlagValueConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="Other%20Types.html#/s:12LaunchDarkly9LDFlagKeya">LDFlagKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LDInvalidArgumentError.html">LDInvalidArgumentError</a>
              </li>
              <li class="nav-group-task">
                <a href="Other%20Types.html#/s:12LaunchDarkly14LDErrorHandlera">LDErrorHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Objective-C%20Core%20Interfaces.html">Objective-C Core Interfaces</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ObjcLDClient.html">ObjcLDClient</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDConfig.html">ObjcLDConfig</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDUser.html">ObjcLDUser</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDChangedFlag.html">ObjcLDChangedFlag</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Objective-C%20EvaluationDetail%20Wrappers.html">Objective-C EvaluationDetail Wrappers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ObjcLDBoolEvaluationDetail.html">ObjcLDBoolEvaluationDetail</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDIntegerEvaluationDetail.html">ObjcLDIntegerEvaluationDetail</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDDoubleEvaluationDetail.html">ObjcLDDoubleEvaluationDetail</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDStringEvaluationDetail.html">ObjcLDStringEvaluationDetail</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDArrayEvaluationDetail.html">ObjcLDArrayEvaluationDetail</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDDictionaryEvaluationDetail.html">ObjcLDDictionaryEvaluationDetail</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Objective-C%20ChangedFlag%20Wrappers.html">Objective-C ChangedFlag Wrappers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ObjcLDBoolChangedFlag.html">ObjcLDBoolChangedFlag</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDIntegerChangedFlag.html">ObjcLDIntegerChangedFlag</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDDoubleChangedFlag.html">ObjcLDDoubleChangedFlag</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDStringChangedFlag.html">ObjcLDStringChangedFlag</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDArrayChangedFlag.html">ObjcLDArrayChangedFlag</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ObjcLDDictionaryChangedFlag.html">ObjcLDDictionaryChangedFlag</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Guides.html">Other Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="changelog.html">CHANGELOG</a>
              </li>
              <li class="nav-group-task">
                <a href="contributing.html">CONTRIBUTING</a>
              </li>
              <li class="nav-group-task">
                <a href="licensetxt.html">LICENSE.txt</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Typealiases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Other%20Typealiases.html#/s:12LaunchDarkly22RequestHeaderTransforma">RequestHeaderTransform</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Core Classes</h1>
            
          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12LaunchDarkly8LDClientC"></a>
                    <a name="//apple_ref/swift/Class/LDClient" class="dashAnchor"></a>
                    <a class="token" href="#/s:12LaunchDarkly8LDClientC">LDClient</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The LDClient is the heart of the SDK, providing client apps running iOS, watchOS, macOS, or tvOS access to LaunchDarkly services. This singleton provides the ability to set a configuration (LDConfig) that controls how the LDClient talks to LaunchDarkly servers, and a user (LDUser) that provides finer control on the feature flag values delivered to LDClient. Once the LDClient has started, it connects to LaunchDarkly&rsquo;s servers to get the feature flag values you set in the Dashboard.</p>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='startup' class='heading'>Startup</h3>

<ol>
<li>To customize, configure a <code><a href="Structs/LDConfig.html">LDConfig</a></code> and <code><a href="Structs/LDUser.html">LDUser</a></code>. The <code>config</code> is required, the <code>user</code> is optional. Both give you additional control over the feature flags delivered to the LDClient. See <code><a href="Structs/LDConfig.html">LDConfig</a></code> &amp; <code><a href="Structs/LDUser.html">LDUser</a></code> for more details.

<ul>
<li>The mobileKey set into the <code><a href="Structs/LDConfig.html">LDConfig</a></code> comes from your LaunchDarkly Account settings. If you have multiple projects be sure to choose the correct Mobile key.</li>
</ul></li>
<li>Call <code>LDClient.start(config: user: completion:)</code>

<ul>
<li>If you do not pass in a LDUser, LDClient will create a default for you.</li>
<li>The optional completion closure allows the LDClient to notify your app when it received flag values.</li>
</ul></li>
<li>Because LDClient instances are stored statically, you do not have to keep a reference to it in your code. Get the primary instances with <code>LDClient.get()</code></li>
</ol>
<h3 id='getting-feature-flags' class='heading'>Getting Feature Flags</h3>

<p>Once the LDClient has started, it makes your feature flags available using the <code>variation</code> and <code>variationDetail</code> methods. A <code>variation</code> is a specific flag value. For example a boolean feature flag has 2 variations, <code>true</code> and <code>false</code>. You can create feature flags with more than 2 variations using other feature flag types.</p>
<pre class="highlight swift"><code> <span class="k">let</span> <span class="nv">boolFlag</span> <span class="o">=</span> <span class="kt">LDClient</span><span class="o">.</span><span class="nf">get</span><span class="p">()?</span><span class="o">.</span><span class="nf">variation</span><span class="p">(</span><span class="nv">forKey</span><span class="p">:</span> <span class="s">"my-bool-flag"</span><span class="p">,</span> <span class="n">defaultValue</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
</code></pre>

<p>If you need to know more information about why a given value is returned, use <code>variationDetail</code>.</p>

<p>See <code>variation(forKey: defaultValue:)</code> or <code>variationDetail(forKey: defaultValue:)</code> for details</p>
<h3 id='observing-feature-flags' class='heading'>Observing Feature Flags</h3>

<p>You might need to know when a feature flag value changes. This is not required, you can check the flag&rsquo;s value when you need it.</p>

<p>If you want to know when a feature flag value changes, you can check the flag&rsquo;s value. You can also use one of several <code>observe</code> methods to have the LDClient notify you when a change occurs. There are several options&ndash;you can set up notificiations based on when a specific flag changes, when any flag in a collection changes, or when a flag doesn&rsquo;t change.</p>
<pre class="highlight swift"><code> <span class="kt">LDClient</span><span class="o">.</span><span class="nf">get</span><span class="p">()?</span><span class="o">.</span><span class="nf">observe</span><span class="p">(</span><span class="s">"flag-key"</span><span class="p">,</span> <span class="nv">owner</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">observer</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="p">(</span><span class="n">changedFlag</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="nf">updateFlag</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"flag-key"</span><span class="p">,</span> <span class="nv">changedFlag</span><span class="p">:</span> <span class="n">changedFlag</span><span class="p">)</span>
 <span class="p">}</span>
</code></pre>

<p>The <code>changedFlag</code> passed in to the closure contains the old and new value of the flag.</p>

                        <a href="Classes/LDClient.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">LDClient</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12LaunchDarkly8LDConfigV"></a>
                    <a name="//apple_ref/swift/Struct/LDConfig" class="dashAnchor"></a>
                    <a class="token" href="#/s:12LaunchDarkly8LDConfigV">LDConfig</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Use LDConfig to configure the LDClient. When initialized, a LDConfig contains the default values which can be changed as needed.</p>

<p>The client app can change the LDConfig by getting the <code>config</code> from <code><a href="Classes/LDClient.html">LDClient</a></code>, adjusting the values, and setting it back into the <code><a href="Classes/LDClient.html">LDClient</a></code>.</p>

                        <a href="Structs/LDConfig.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">LDConfig</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">LDConfig</span><span class="p">:</span> <span class="kt">Equatable</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12LaunchDarkly6LDUserV"></a>
                    <a name="//apple_ref/swift/Struct/LDUser" class="dashAnchor"></a>
                    <a class="token" href="#/s:12LaunchDarkly6LDUserV">LDUser</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>LDUser allows clients to collect information about users in order to refine the feature flag values sent to the SDK. For example, the client app may launch with the SDK defined anonymous user. As the user works with the client app, information may be collected as needed and sent to LaunchDarkly. The client app controls the information collected, which LaunchDarkly does not use except as the client directs to refine feature flags. Client apps should follow <a href="apple.com/legal/privacy">Apple&rsquo;s Privacy Policy</a> when collecting user information.
The SDK caches last known feature flags for use on app startup to provide continuity with the last app run. Provided the LDClient is online and can establish a connection with LaunchDarkly servers, cached information will only be used a very short time. Once the latest feature flags arrive at the SDK, the SDK no longer uses cached feature flags. The SDK retains feature flags on the last 5 client defined users. The SDK will retain feature flags until they are overwritten by a different user&rsquo;s feature flags, or until the user removes the app from the device.
The SDK does not cache user information collected, except for the user key. The user key is used to identify the cached feature flags for that user. Client app developers should use caution not to use sensitive user information as the user-key.</p>

                        <a href="Structs/LDUser.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">LDUser</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">LDUser</span><span class="p">:</span> <span class="kt">Equatable</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:12LaunchDarkly18LDEvaluationDetailC"></a>
                    <a name="//apple_ref/swift/Class/LDEvaluationDetail" class="dashAnchor"></a>
                    <a class="token" href="#/s:12LaunchDarkly18LDEvaluationDetailC">LDEvaluationDetail</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An object returned by the SDK&rsquo;s <code>variationDetail</code> methods, combining the result of a flag evaluation with an
explanation of how it is calculated.</p>

                        <a href="Classes/LDEvaluationDetail.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">LDEvaluationDetail</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>Copyright © 2019 Catamorphic Co.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
